<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Component Documentation: videoSource</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DREAM_223x59.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Component Documentation
   &#160;<span id="projectnumber">v0.01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___d_r_e_a_m__video_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">videoSource</div>  </div>
</div><!--header-->
<div class="contents">

<p>The videoSource DREAM component.  
<a href="#details">More...</a></p>
<h1><a class="anchor" id="component_description"></a>
Component Description</h1>
<p>Reads images from video files and streams images to specified port.</p>
<h1><a class="anchor" id="lib_sec"></a>
Libraries</h1>
<p>YARP.</p>
<h1><a class="anchor" id="parameters_sec"></a>
Parameters</h1>
<p><b>Command-line Parameters</b></p>
<p>The following key-value pairs can be specified as command-line parameters by prefixing &ndash; to the key (e.g. <code>&ndash;from</code> file.ini . The value part can be changed to suit your needs; the default values are shown below.</p>
<ul>
<li><code>from</code> <code>videoSource.ini</code> <ul>
<li>The configuration file</li>
</ul>
</li>
<li><code>context</code> <code>components/videoSource/config</code> <ul>
<li>specifies the sub-path from <code>$DREAM_ROOT</code> to the configuration file</li>
</ul>
</li>
<li><code>name</code> <code>videoSource</code> <ul>
<li>The name of the module (used to form the stem of module port names)</li>
</ul>
</li>
</ul>
<p><b>Configuration File Parameters</b></p>
<p>The following key-value pairs can be specified as parameters in the configuration file (they can also be specified as command-line parameters if you so wish). The value part can be changed to suit your needs; the default values are shown below.</p>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left">outputPort </td><td align="left">/image:o </td></tr>
</table>
<p>The output port name to which the image should be streamed</p>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left">heartbeatPort </td><td align="left">/heartbeat:i </td></tr>
</table>
<p>The input port name for passive (heartbeat) playback</p>
<p>Note: the port names above will be prefixed with component name (i.e. <code>/videoSource</code>)</p>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left">videoFile </td><td align="left">video.avi </td></tr>
</table>
<p>specifies the video filename</p>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left">width </td><td align="left">320 </td></tr>
</table>
<p>specifies the width of the image to be streamed. 0 indicates default size. The video stream is rescaled if necessary.</p>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left">height </td><td align="left">240 </td></tr>
</table>
<p>specifies the height of the image to be streamed. 0 indicates default size. The video stream is rescaled if necessary.</p>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left">heartbeatPlayback </td><td align="left">false </td></tr>
</table>
<p>If set to true, videoSource streams video frames in response to an incoming heartbeat signal (c.f heartbeatPort parameter). This allow the framerate to be controlled by the heartbeat and several instances of videoSource can play synchronized video steams.</p>
<p>NOTE: Since the heartbeat playback implements frame reading and sending in callbacks rather than a single rate thread, playback is distributed over a thread pool allowing very high frame rate in response to a fast heartbeat.</p>
<p>If set to false, videoSource plays video with a fixed frame rate independently of heartbeat.</p>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left">frameRate </td><td align="left">0 </td></tr>
</table>
<p>Playback framerate (fps) in fixed (heartbeatPlayback = false) mode. If frameRate = 0, the frame rate from the source video file is used.</p>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left">repeatPlayback </td><td align="left">false </td></tr>
</table>
<p>If true, playback is repeated once the video ends.</p>
<h1><a class="anchor" id="portsa_sec"></a>
Ports Accessed</h1>
<p>None.</p>
<h1><a class="anchor" id="portsc_sec"></a>
Ports Created</h1>
<p><b>Input ports</b></p>
<ul>
<li><code>/videoSource/heartbeat</code>:i</li>
</ul>
<p>This port is used during passive playback (see heartbeatPlayback configuration parameter)</p>
<ul>
<li><code>/videoSource</code> </li>
</ul>
<p>This port is used to change the parameters of the module at run time or stop the module. The following commands are available </p><pre class="fragment">help
quit
</pre><p>Note that the name of this port mirrors whatever is provided by the <code>&ndash;name</code> parameter value The port is attached to the terminal so that you can type in commands and receive replies. The port can be used by other modules but also interactively by a user through the yarp rpc directive, viz.: <code>yarp</code> <code>rpc</code> <code>/videoSource</code> This opens a connection from a terminal to the port and allows the user to then type in commands and receive replies.</p>
<p><b>Input ports</b> </p><pre class="fragment">/videoSource/heartbeat:i            BufferedPort&lt;VectorOf&lt;long&gt;&gt;
</pre><p><b>Output ports</b> </p><pre class="fragment">/videoSource          
/videoSource/image:o                BufferedPort&lt;ImageOf&lt;PixelRgb&gt;&gt;
/videoSource/frameNumber:o          BufferedPort&lt;VectorOf&lt;long&gt;&gt;
</pre><p><b>Port types</b></p>
<p>See spec under input/output ports sections.</p>
<h1><a class="anchor" id="in_files_sec"></a>
Input Data Files</h1>
<p>video.avi, or whatever is specified as a argument for the <code>&ndash;imageFile</code> <code>key-value</code>.</p>
<h1><a class="anchor" id="out_data_sec"></a>
Output Data Files</h1>
<p>None.</p>
<h1><a class="anchor" id="conf_file_sec"></a>
Configuration Files</h1>
<p><code>videoSource.ini</code> in <code>$DREAM_ROOT/components/videoSource/config</code> </p>
<h1><a class="anchor" id="tested_os_sec"></a>
Tested OS</h1>
<ul>
<li>Windows</li>
</ul>
<h1><a class="anchor" id="example_sec"></a>
Example Instantiation of the Component</h1>
<p><code>videoSource &ndash;name videoSource &ndash;context components/videoSource/config &ndash;from videoSource.ini </code></p>
<dl class="section author"><dt>Author</dt><dd>Larisa Markeeva and Erik Billing</dd></dl>
<p>Copyright (C) 2015 Larisa Markeeva Copyright (C) 2016 Erik Billing </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Dec 11 2017 00:29:18 for Component Documentation by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
