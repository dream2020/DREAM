<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Component Documentation: systemArchitectureGUI</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DREAM_223x59.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Component Documentation
   &#160;<span id="projectnumber">v0.01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___d_r_e_a_m__system_architecture_g_u_i.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">systemArchitectureGUI</div>  </div>
</div><!--header-->
<div class="contents">

<p>Interface file for the graphic user interface component in the DREAM system architecture.  
<a href="#details">More...</a></p>
<h1><a class="anchor" id="component_description"></a>
Component Description</h1>
<p>The DREAM system architecture, described in Deliverable D3.1, comprises three main sub-systems that correspond to the following work-packages</p>
<ul>
<li>WP4: Sensing and Interpretation,</li>
<li>WP5: Child Behaviour Analysis, and</li>
<li>WP6: Robot Behaviour.</li>
</ul>
<p>Initially, these three sub-systems are implemented by three placeholder components, as follows.</p>
<ul>
<li>sensoryInterpretation</li>
<li>cognitiveControl</li>
<li>cognitiveControl</li>
</ul>
<p>This component is a Graphic User Interface (GUI) to facilitate external control of the robot by a user (either a therapist or a software developer) and to provide the user with an easily-to-understand view on the current state of the robot cognitive control.</p>
<p>It also provides a graphic rendering of the child's behavioural state, degree of engagement, and degree of performance in the current intervention.</p>
<p>All of the cognitiveController input and output ports can be connected to this GUI as well as the output ports from the childBehaviourClassification component.</p>
<p>Additionally, the user interface allows a software developer to change the parameters that control the discrete event simulation of each of the three placeholder component sub-systems. Four simulation parameters are provided to allow the developer to adjust the simulation without having to recompile the placeholder code. These are:</p>
<ul>
<li><code>verbose</code> <ul>
<li>If this parameter has the value "on", messages will be sent to the run server to echo the input and output to/from each primitive; if "off" no messages are sent.</li>
</ul>
</li>
<li><code>cycle</code> <ul>
<li>If this parameter has the value "on", only one primitive at a time is set to have a non-zero event rate; if "off" all primitives have the specified non-zero event rate.</li>
</ul>
</li>
<li><code>cycle_period</code> <ul>
<li>The period for which a primitive is the only one to have a non-zero event rate.</li>
</ul>
</li>
<li><code>event_rate</code> <ul>
<li>The number of events (i.e. perception primitive invocations) per second. At present, the same event rate is applied to all primitives except in cycle mode.</li>
</ul>
</li>
</ul>
<p>The event rate determines the Poisson distribution parameter lambda, the mean number of events. Lambda is computed as the event rate x the time taken to execute one discrete event loop. This event loop time is measured in real-time and is not a fixed discrete event simulation interval. Again, this produces a more realistic simulation.</p>
<p>These parameters are set using the port associated with each placeholder subsystem component using commands sent in a bottle:</p>
<ul>
<li><code>verbose</code> on | off</li>
<li><code>cycle</code> on | off</li>
<li><code>cycle_period</code> &lt;n&gt;</li>
<li><code>event_rate</code> &lt;n&gt;</li>
</ul>
<p>The GUI makes use of a library <code>guiUtilities</code> developed by David Vernon. This library implements several classes to manipulate and display images. It also contains example callback functions for standard FLTK evaluators such as sliders and radio buttons as well as writing messages to a display box. guiUtilities is included in the DREAM software project so that it can be extended as required.</p>
<h1><a class="anchor" id="lib_sec"></a>
Libraries</h1>
<ul>
<li>YARP</li>
<li>FLTK:<ul>
<li>fltk.lib</li>
<li>fltkgl.lib</li>
<li>fltkimages.lib</li>
<li>fltkpng.lib</li>
<li>fltkzlib.lib</li>
<li>guiUtilities.lib</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="parameters_sec"></a>
Parameters</h1>
<p><b>Command-line Parameters </b></p>
<p>The following key-value pairs can be specified as command-line parameters by prefixing <code>&ndash;</code> to the key e.g. <code>&ndash;from</code> file.ini. The value part can be changed to suit your needs; the default values are shown below.</p>
<ul>
<li><code>from</code> <code>systemArchitectureGUI.ini</code> <ul>
<li>specifies the configuration file</li>
</ul>
</li>
<li><code>context</code> <code>systemArchitectureGUI/configuration</code> <ul>
<li>specifies the sub-path from <code>$DREAM_ROOT/systemArchitectureGUI/configuration</code> to the configuration file</li>
</ul>
</li>
<li><code>name</code> <code>systemArchitectureGUI</code> <ul>
<li>specifies the name of the module (used to form the stem of module port names)</li>
</ul>
</li>
</ul>
<p><b>Configuration File Parameters </b></p>
<p>The following key-value pairs can be specified as parameters in the configuration file (they can also be specified as command-line parameters if you so wish). The value part can be changed to suit your needs; the default values are shown below.</p>
<p>Ports associated with sensoryInterpretation component/subsystem</p>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left"><code>sensoryInterpretationOutputPort</code> </td><td align="left"><code>sensoryInterpretation:o</code> </td></tr>
</table>
<p>Ports associated with childBehaviourClassification component/subsystem</p>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left"><code>getChildBehaviourInputPort</code> </td><td align="left"><code>getChildBehaviour:i</code> </td></tr>
<tr>
<td align="left"><code>getChildMotivationInputPort</code> </td><td align="left"><code>getChildMotivation:i</code> </td></tr>
<tr>
<td align="left"><code>getChildPerformanceInputPort</code> </td><td align="left"><code>getChildPerformance:i</code> </td></tr>
<tr>
<td align="left"><code>childBehaviourClassificationOutputPort</code> </td><td align="left"><code>childBehaviourClassification:o</code> </td></tr>
</table>
<p>Ports associated with cognitiveControl component/subsystem</p>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left"><code>getInterventionStateInputPort</code> </td><td align="left"><code>getInterventionState:i</code> </td></tr>
<tr>
<td align="left"><code>gripOutputPort</code> </td><td align="left"><code>grip:o</code> </td></tr>
<tr>
<td align="left"><code>moveHandOutputPort</code> </td><td align="left"><code>moveHand:o</code> </td></tr>
<tr>
<td align="left"><code>moveHeadOutputPort</code> </td><td align="left"><code>moveHead:o</code> </td></tr>
<tr>
<td align="left"><code>moveSequenceOutputPort</code> </td><td align="left"><code>moveSequence:o</code> </td></tr>
<tr>
<td align="left"><code>moveTorsoOutputPort</code> </td><td align="left"><code>moveTorso:o</code> </td></tr>
<tr>
<td align="left"><code>sayOutputPort</code> </td><td align="left"><code>say:o</code> </td></tr>
<tr>
<td align="left"><code>enableRobotOutputPort</code> </td><td align="left"><code>enableRobot:o</code> </td></tr>
<tr>
<td align="left"><code>cognitiveControlOutputPort</code> </td><td align="left"><code>cognitiveControl:o</code> </td></tr>
</table>
<p>Note: all these filename strings will be prefixed by <code>/systemArchitectureGUI</code> (or whatever else is specifed by the <code>name</code> parameter)</p>
<h1><a class="anchor" id="portsa_sec"></a>
Ports Accessed</h1>
<ul>
<li>None</li>
</ul>
<h1><a class="anchor" id="portsc_sec"></a>
Ports Created</h1>
<p><b>Input ports</b></p>
<ul>
<li><code>/systemArchitectureGUI</code> </li>
</ul>
<p>This port is used to change the parameters of the module at run time or stop the module. <br />
The following commands are available: </p><pre class="fragment">help
quit
</pre><p>Note that the name of this port mirrors whatever is provided by the <code>&ndash;name</code> parameter value. The port is attached to the terminal so that you can type in commands and receive replies. The port can be used by other modules but also interactively by a user through the yarp rpc directive, viz.: <code>yarp</code> <code>rpc</code> <code>/systemArchitectureGUI</code> This opens a connection from a terminal to the port and allows the user to then type in commands and receive replies.</p>
<p>Ports originating in <code>childBehaviourClassification:</code> </p><pre class="fragment">/systemArchitectureGUI/getChildBehaviour:i            
/systemArchitectureGUI/getChildMotivation:i           
/systemArchitectureGUI/getChildPerformance:i          
</pre><p>Ports originating in <code>cognitiveControl:</code> </p><pre class="fragment">/systemArchitectureGUI/getInterventionState:i         
</pre><p><b>Output ports</b> </p><pre class="fragment">/systemArchitectureGUI/grip:o                         
/systemArchitectureGUI/moveHand:o                     
/systemArchitectureGUI/moveHead:o                     
/systemArchitectureGUI/moveSequence:o                 
/systemArchitectureGUI/moveTorso:o                    
/systemArchitectureGUI/say:o                          
/systemArchitectureGUI/enableRobot:o                  
/systemArchitectureGUI                                
/sensoryInterpretation:o                              
/childBehaviourClassification:o                       
/cognitiveControl:o                                   
</pre><p><b>Port types </b></p>
<p>The functional specification above only names the ports to be used to communicate with the module but doesn't say anything about the data transmitted on the ports. This is defined by the following code. </p><pre class="fragment">Port                             sensoryInterpretationOut;        

BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getChildBehaviourIn;              
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getChildMotivationIn;             
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getChildPerformanceIn;            
Port                              childBehaviourClassificationOut; 

BufferedPort&lt;VectorOf&lt;int&gt;&gt;       getInterventionStateIn;           
BufferedPort&lt;VectorOf&lt;int&gt;&gt;       gripOut;                         
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    moveHandOut;                     
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    moveHeadOut;                     
BufferedPort&lt;VectorOf&lt;int&gt;&gt;       moveSequenceOut;                 
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    moveTorsoOut;                    
BufferedPort&lt;Bottle&gt;              sayOut;                          
BufferedPort&lt;VectorOf&lt;int&gt;&gt;       enableRobotOut;                  
Port                              cognitiveControlOut;
</pre><h1><a class="anchor" id="in_files_sec"></a>
Input Data Files</h1>
<p><code>DREAM_223x59.png</code> </p>
<p>This the DREAM logo. It is located in C:/DREAM/release/components/systemArchitectureGUI/config but the resourceFinder identifies this path automatically.</p>
<h1><a class="anchor" id="out_data_sec"></a>
Output Data Files</h1>
<p>None</p>
<h1><a class="anchor" id="conf_file_sec"></a>
Configuration Files</h1>
<p><code>systemArchitectureGUI.ini</code> </p>
<h1><a class="anchor" id="example_sec"></a>
Example Instantiation of the Component</h1>
<p><code>systemArchitectureGUI &ndash;name systemArchitectureGUI &ndash;context components/systemArchitectureGUI/config &ndash;from systemArchitectureGUI.ini </code></p>
<dl class="section author"><dt>Author</dt><dd></dd></dl>
<p>David Vernon, University of Sk√∂vde</p>
<p>Copyright (C) 2014 DREAM Consortium </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Dec 11 2017 00:29:18 for Component Documentation by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
