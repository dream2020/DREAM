<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Component Documentation: heartbeat</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DREAM_223x59.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Component Documentation
   &#160;<span id="projectnumber">v0.01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___d_r_e_a_m__sensory_interpretation.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">heartbeat</div>  </div>
</div><!--header-->
<div class="contents">

<p>The component sends a constant heartbeat on specified output port.  
<a href="#details">More...</a></p>
<p>Interface file for the sensory interpretation subsystem in the DREAM system architecture.</p>
<p>Each heartbeat comprise a VectorOf&lt;long&gt; contaning a single long value specifying the heartbeat index.</p>
<h1><a class="anchor" id="lib_sec"></a>
Libraries</h1>
<ul>
<li>YARP.</li>
</ul>
<h1><a class="anchor" id="parameters_sec"></a>
Parameters</h1>
<p><b>Command-line Parameters </b></p>
<p>The following key-value pairs can be specified as command-line parameters by prefixing <code>&ndash;</code> to the key e.g. <code>&ndash;from</code> file.ini. The value part can be changed to suit your needs; the default values are shown below.</p>
<ul>
<li><code>from</code> <code>heartbeat.ini</code> <ul>
<li>specifies the configuration file</li>
</ul>
</li>
<li><code>context</code> <code>heartbeat/configuration</code> <ul>
<li>specifies the sub-childBehaviourClassification from <code>$DREAM_ROOT/heartbeat/configuration</code> to the configuration file</li>
</ul>
</li>
<li><code>name</code> <code>heartbeat</code> <ul>
<li>specifies the name of the module (used to form the stem of module port names)</li>
</ul>
</li>
</ul>
<p><b>Configuration File Parameters </b></p>
<p>The following key-value pairs can be specified as parameters in the configuration file (they can also be specified as command-line parameters if you so wish). The value part can be changed to suit your needs; the default values are shown below.</p>
<p>Key | Value :&ndash; | :-&mdash;</p>
<p>heartbeatPort | /heartbeat:o</p><ul>
<li>specifies the name of the output port for the heartbeat. The resulting port name is preceded with /&lt;compoentName&gt;</li>
</ul>
<p>period | 33</p><ul>
<li>integer value spcifying the heartbeat period (miliseconds)</li>
</ul>
<h1><a class="anchor" id="portsc_sec"></a>
Ports Created</h1>
<p><b>Input ports</b></p>
<ul>
<li><code>/heartbeat</code> </li>
</ul>
<p>This port is used to change the parameters of the module at run time or stop the module. <br />
The following commands are available:</p>
<p>help quit</p>
<p><b>Output ports</b></p>
<ul>
<li><code>/heartbeat</code> see above</li>
<li><code>/heartbeat/heartbeat</code>:o BufferedPort&lt;VectorOf&lt;long&gt;&gt;</li>
</ul>
<h1><a class="anchor" id="conf_file_sec"></a>
Configuration Files</h1>
<p><code>heartbeat.ini</code> </p>
<h1><a class="anchor" id="example_sec"></a>
Example Instantiation of the Component</h1>
<p><code>heartbeat &ndash;name heartbeat &ndash;context components/heartbeat/config &ndash;from heartbeat.ini </code></p>
<dl class="section author"><dt>Author</dt><dd></dd></dl>
<p>&lt;Erik billing&gt;=""&gt;, &lt;University of="" skovde&gt;=""&gt;</p>
<p>Copyright (C) 2014 DREAM Consortium</p>
<h1><a class="anchor" id="component_description"></a>
Component Description</h1>
<p>The DREAM system architecture, described in Deliverable D3.1, comprises three main sub-systems that correspond to the following work-packages</p>
<ul>
<li>WP4: Sensing and Interpretation,</li>
<li>WP5: Child Behaviour Analysis, and</li>
<li>WP6: Robot Behaviour.</li>
</ul>
<p>Initially, these three sub-systems are implemented by three placeholder components, as follows.</p>
<ul>
<li>sensoryInterpretation</li>
<li>childBehaviourClassification</li>
<li>cognitiveControl</li>
</ul>
<p>The current component is the implementation of the sensoryInterpretation placeholder component. It provides stub functionality for all the 25 sensoryInterpretation perception primitives (see D1.3 and D3.1)</p>
<ul>
<li>checkMutualGaze()</li>
<li>getArmAngle(left_azimuth, left_elevation, right_azimuth, right_elevation)</li>
<li>getBody(x, y, z)</li>
<li>getBodyPose(&lt;joint_i&gt;)</li>
<li>getEyeGaze(eye, x, y, z)</li>
<li>getEyes(eyeL_x, eyeL_y, eyeL_z, eyeR_x, eyeR_y, eyeR_z)</li>
<li>getFaces(&lt;x, y, z&gt;)</li>
<li>getGripLocation(object_x, object_y, object_z, grip_x, grip_y, grip_z)</li>
<li>getHands(&lt;x, y, z&gt;)</li>
<li>getHead(x, y, z)</li>
<li>getHeadGaze(x, y, z)</li>
<li>getHeadGaze(p_x1, p_y1, p_z1, p_x2, p_y2, p_z2, p_x3, p_y3, p_z3, x, y, z)</li>
<li>getObjects(&lt;x, y, z&gt;)</li>
<li>getObjects(centre_x, centre_y, centre_z, radius, &lt;x, y, z&gt;)</li>
<li>getObjectTableDistance(object_x, object_y, object_z, vertical_distance)</li>
<li>getSoundDirection(threshold, azimuth, elevation)</li>
<li>identifyFace(x, y, z, face_id)</li>
<li>identifyFaceExpression(x, y, z, expression_id)</li>
<li>identifyObject(x, y, z, object_id)</li>
<li>identifyTrajectory(&lt;x, y, z, t&gt;, trajectory_descriptor)</li>
<li>identifyVoice(voice_descriptor)</li>
<li>recognizeSpeech(text)</li>
<li>trackFace(seed_x, seed_y, seed_z, time_interval, projected_x, projected_y, projected_z)</li>
<li>trackHand(seed_x, seed_y, seed_z, time_interval, projected_x, projected_y, projected_z)</li>
<li>trackObject(seed_x, seed_y, seed_z, time_interval, projected_x, projected_y, projected_z)</li>
</ul>
<p>This means that it reads any input parameters from the associated input port (where necessary) and writes simulated results (random values) to the associated output port.</p>
<p>This placeholder component does nothing except send and receive simulated data on each of the ports defined in the sub-system specification. The purpose of the placeholder is merely to provide a working example of the implementation and use of these ports using the data communication protocols specified in Deliverable D3.1. These specifications are replicated in the section Ports Created below.</p>
<p>The component operates as a discrete event simulation. An event occurs when a perception primitive returns a value. This is modelled by a Poisson distribution, with every primitive having its own event rate. This provides for more realistic simulation of the behaviour of the sub-system for which it is a placeholder. It also has the advantage that it is possible to set all but one event rates to zero for a certain period of time, and to cycle through each primitive as the simulation proceeds. This makes it easier to check the operation of the component expecially when all three placeholder components are working together.</p>
<p>Four simulation parameters are provided to allow the developer to adjust the simulation without having to recompile the placeholder code. These are:</p>
<ul>
<li><code>verbose</code> <ul>
<li>If this parameter has the value "on", messages will be sent to the run server to echo the input and output to/from each primitive; if "off" no messages are sent.</li>
</ul>
</li>
<li><code>cycle</code> <ul>
<li>If this parameter has the value "on", only one primitive at a time is set to have a non-zero event rate; if "off" all primitives have the specified non-zero event rate.</li>
</ul>
</li>
<li><code>cycle_period</code> <ul>
<li>The period for which a primitive is the only one to have a non-zero event rate.</li>
</ul>
</li>
<li><code>event_rate</code> <ul>
<li>The number of events (i.e. perception primitive invocations) per second. At present, the same event rate is applied to all primitives except in cycle mode.</li>
</ul>
</li>
</ul>
<p>The event rate determines the Poisson distribution parameter lambda, the mean number of events. Lambda is computed as the event rate x the time taken to execute one discrete event loop. This event loop time is measured in real-time and is not a fixed discrete event simulation interval. Again, this produces a more realistic simulation.</p>
<p>The functionality of each sub-system will be developed incrementally as the project progresses with new components being developed to implement each primitive. Integration of these new primitives is made easy by simply setting the event rate of the stub versions in this placeholder to zero.</p>
<h1><a class="anchor" id="lib_sec"></a>
Libraries</h1>
<ul>
<li>YARP.</li>
</ul>
<h1><a class="anchor" id="parameters_sec"></a>
Parameters</h1>
<p><b>Command-line Parameters </b></p>
<p>The following key-value pairs can be specified as command-line parameters by prefixing <code>&ndash;</code> to the key e.g. <code>&ndash;from</code> file.ini. The value part can be changed to suit your needs; the default values are shown below.</p>
<ul>
<li><code>from</code> <code>sensoryInterpretation.ini</code> <ul>
<li>specifies the configuration file</li>
</ul>
</li>
<li><code>context</code> <code>components/sensoryInterpretation/config</code> <ul>
<li>specifies the sub-path from <code>$DREAM_ROOT/release/</code> to the configuration file</li>
</ul>
</li>
<li><code>name</code> <code>sensoryInterpretation</code> <ul>
<li>specifies the name of the module (used to form the stem of module port names)</li>
</ul>
</li>
</ul>
<p><b>Configuration File Parameters </b></p>
<p>The following key-value pairs can be specified as parameters in the configuration file (they can also be specified as command-line parameters if you so wish). The value part can be changed to suit your needs; the default values are shown below.</p>
<p>Parameters for controlling the simulation <br />
 </p><table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left">verbose </td><td align="left">on </td></tr>
<tr>
<td align="left">cycle </td><td align="left">on </td></tr>
<tr>
<td align="left">cycle_period </td><td align="left">0.5 </td></tr>
<tr>
<td align="left">event_rate </td><td align="left">20.0 </td></tr>
</table>
<p>Parameters associated with the functions being simulated (i.e. the input and output port names) <br />
 Note that all these default values for port names will be prefixed by <code>/sensoryInterpretation</code> or whatever else is specifed by the <code>name</code> parameter</p>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left">checkMutualGazeOutputPort </td><td align="left">/checkMutualGaze:o </td></tr>
<tr>
<td align="left">getArmAngleOutputPort </td><td align="left">/getArmAngle:o </td></tr>
<tr>
<td align="left">getBodyOutputPort </td><td align="left">/getBody:o </td></tr>
<tr>
<td align="left">getBodyPoseOutputPort </td><td align="left">/getBodyPose:o </td></tr>
<tr>
<td align="left">getEyeGazeInputPort </td><td align="left">/getEyeGaze:i </td></tr>
<tr>
<td align="left">getEyeGazeOutputPort </td><td align="left">/getEyeGaze:o </td></tr>
<tr>
<td align="left">getEyesOutputPort </td><td align="left">/getEyes:o </td></tr>
<tr>
<td align="left">getFacesOutputPort </td><td align="left">/getFaces:o </td></tr>
<tr>
<td align="left">getGripLocationInputPort </td><td align="left">/getGripLocation:i </td></tr>
<tr>
<td align="left">getGripLocationOutputPort </td><td align="left">/getGripLocation:o </td></tr>
<tr>
<td align="left">getHandsOutputPort </td><td align="left">/getHands:o </td></tr>
<tr>
<td align="left">getHeadOutputPort </td><td align="left">/getHead:o </td></tr>
<tr>
<td align="left">getHeadGazeInputPort </td><td align="left">/getHeadGaze:i </td></tr>
<tr>
<td align="left">getHeadGazeOutputPort </td><td align="left">/getHeadGaze:o </td></tr>
<tr>
<td align="left">getObjectsOutputPort </td><td align="left">/getObjects:o </td></tr>
<tr>
<td align="left">getObjectsInputPort </td><td align="left">/getObjects:i </td></tr>
<tr>
<td align="left">getObjectTableDistanceInputPort </td><td align="left">/getObjectTableDistance:i </td></tr>
<tr>
<td align="left">getObjectTableDistanceOutputPort </td><td align="left">/getObjectTableDistance:o </td></tr>
<tr>
<td align="left">getSoundDirectionInputPort </td><td align="left">/getSoundDirection:i </td></tr>
<tr>
<td align="left">getSoundDirectionOutputPort </td><td align="left">/getSoundDirection:o </td></tr>
<tr>
<td align="left">identifyFaceInputPort </td><td align="left">/identifyFace:i </td></tr>
<tr>
<td align="left">identifyFaceOutputPort </td><td align="left">/identifyFace:o </td></tr>
<tr>
<td align="left">identifyFaceExpressionInputPort </td><td align="left">/identifyFaceExpression:i </td></tr>
<tr>
<td align="left">identifyFaceExpressionOutputPort </td><td align="left">/identifyFaceExpression:o </td></tr>
<tr>
<td align="left">identifyObjectInputPort </td><td align="left">/identifyObject:i </td></tr>
<tr>
<td align="left">identifyObjectOutputPort </td><td align="left">/identifyObject:o </td></tr>
<tr>
<td align="left">identifyTrajectoryInputPort </td><td align="left">/identifyTrajectory:i </td></tr>
<tr>
<td align="left">identifyTrajectoryOutputPort </td><td align="left">/identifyTrajectory:o </td></tr>
<tr>
<td align="left">identifyVoiceOutputPort </td><td align="left">/identifyVoice:o </td></tr>
<tr>
<td align="left">recognizeSpeechOutputPort </td><td align="left">/recognizeSpeech:o </td></tr>
<tr>
<td align="left">trackFaceInputPort </td><td align="left">/trackFace:i </td></tr>
<tr>
<td align="left">trackFaceOutputPort </td><td align="left">/trackFace:o </td></tr>
<tr>
<td align="left">trackHandInputPort </td><td align="left">/trackHand:i </td></tr>
<tr>
<td align="left">trackHandOutputPort </td><td align="left">/trackHand:o </td></tr>
<tr>
<td align="left">trackObjectInputPort </td><td align="left">/trackObject:i </td></tr>
<tr>
<td align="left">trackObjectOutputPort </td><td align="left">/trackObject:o </td></tr>
</table>
<h1><a class="anchor" id="portsa_sec"></a>
Ports Accessed</h1>
<ul>
<li>None</li>
</ul>
<h1><a class="anchor" id="portsc_sec"></a>
Ports Created</h1>
<p><b>Input ports</b></p>
<ul>
<li><code>/sensoryInterpretation</code> </li>
</ul>
<p>This port is used to change the parameters of the module at run time or stop the module. <br />
The following commands are available </p><pre class="fragment">help
verbose         on      ... echo all data received and sent to the terminal
verbose         off     ... run in quiet mode and do not echo  data received and sent to the terminal
cycle           on      ... set event rate to zero for all but one classification primitive
cycle           off     ... assign event rate specified to all three classification primitives
cycle_period    &lt;n&gt;     ... period in seconds that an event remain non-zero during cycle mode (where &lt;n&gt; is an real number)
event_rate      &lt;n&gt;     ... the mean number of times per second that a primitive is invoked (where &lt;n&gt; is an real number)
</pre><p>Note that the name of this port mirrors whatever is provided by the <code>&ndash;name</code> parameter value The port is attached to the terminal so that you can type in commands and receive replies. The port can be used by other modules but also interactively by a user through the yarp rpc directive, e.g. <code>yarp</code> <code>rpc</code> <code>/sensoryInterpretation</code> This opens a connection from a terminal to the port and allows the user to then type in commands and receive replies. </p><pre class="fragment">/sensoryInterpretation/getEyeGaze:i
/sensoryInterpretation/getGripLocation:i
/sensoryInterpretation/getHeadGaze:i
/sensoryInterpretation/getObjects:i
/sensoryInterpretation/getObjectTableDistance:i
/sensoryInterpretation/getSoundDirection:i
/sensoryInterpretation/identifyFace:i
/sensoryInterpretation/identifyFaceExpression:i
/sensoryInterpretation/identifyObject:i
/sensoryInterpretation/identifyTrajectory:i
/sensoryInterpretation/trackFace:i
/sensoryInterpretation/trackHand:i
/sensoryInterpretation/trackObject:i
</pre><p><b>Output ports</b> </p><pre class="fragment">/sensoryInterpretation   (see above)
/sensoryInterpretation/checkMutualGaze:o
/sensoryInterpretation/getArmAngle:o
/sensoryInterpretation/getBody:o
/sensoryInterpretation/getBodyPose:o
/sensoryInterpretation/getEyeGaze:o
/sensoryInterpretation/getEyes:o
/sensoryInterpretation/getFaces:o
/sensoryInterpretation/getGripLocation:o
/sensoryInterpretation/getHands:o
/sensoryInterpretation/getHead:o
/sensoryInterpretation/getHeadGaze:o
/sensoryInterpretation/getObjects:o
/sensoryInterpretation/getObjectTableDistance:o
/sensoryInterpretation/getSoundDirection:o
/sensoryInterpretation/identifyFace:o
/sensoryInterpretation/identifyFaceExpression:o
/sensoryInterpretation/identifyObject:o
/sensoryInterpretation/identifyTrajectory:o
/sensoryInterpretation/identifyVoice:o
/sensoryInterpretation/recognizeSpeech:o
/sensoryInterpretation/trackFace:o
/sensoryInterpretation/trackHand:o
/sensoryInterpretation/trackObject:o
</pre><p><b>Port types </b></p>
<p>The functional specification only names the ports to be used to communicate with the module but doesn't say anything about the data transmitted on the ports. This is defined by the following code. </p><pre class="fragment">BufferedPort&lt;VectorOf&lt;int&gt;&gt;       checkMutualGazeOut; 
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getArmAngleOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getBodyOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getBodyPoseOut;
BufferedPort&lt;VectorOf&lt;int&gt;&gt;       getEyeGazeIn;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getEyeGazeOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getEyesOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getFacesOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getGripLocationIn;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getGripLocationOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getHandsOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getHeadOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getHeadGazeIn;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getHeadGazeOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getObjectsIn;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getObjectsOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getObjectTableDistanceIn;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getObjectTableDistanceOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getSoundDirectionIn;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    getSoundDirectionOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    identifyFaceIn;
BufferedPort&lt;VectorOf&lt;int&gt;&gt;       identifyFaceOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    identifyFaceExpressionIn;
BufferedPort&lt;VectorOf&lt;int&gt;&gt;       identifyFaceExpressionOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    identifyObjectIn;
BufferedPort&lt;VectorOf&lt;int&gt;&gt;       identifyObjectOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    identifyTrajectoryIn;
BufferedPort&lt;VectorOf&lt;int&gt;&gt;       identifyTrajectoryOut;
BufferedPort&lt;VectorOf&lt;int&gt;&gt;       identifyVoiceOut;
BufferedPort&lt;Bottle&gt;              recognizeSpeechOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    trackFaceIn;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    trackFaceOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    trackHandIn;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    trackHandOut;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    trackObjectIn;
BufferedPort&lt;VectorOf&lt;double&gt;&gt;    trackObjectOut;
</pre><h1><a class="anchor" id="in_files_sec"></a>
Input Data Files</h1>
<p>None</p>
<h1><a class="anchor" id="out_data_sec"></a>
Output Data Files</h1>
<p>None</p>
<h1><a class="anchor" id="conf_file_sec"></a>
Configuration Files</h1>
<p><code>sensoryInterpretation.ini</code> </p>
<h1><a class="anchor" id="example_sec"></a>
Example Instantiation of the Component</h1>
<p><code>sensoryInterpretation &ndash;name sensoryInterpretation &ndash;context components/sensoryInterpretation/config &ndash;from sensoryInterpretation.ini </code></p>
<dl class="section author"><dt>Author</dt><dd></dd></dl>
<p>David Vernon, University of Sk√∂vde, Sweden.</p>
<p>Copyright (C) 2014 DREAM Consortium </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Dec 11 2017 00:29:18 for Component Documentation by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
