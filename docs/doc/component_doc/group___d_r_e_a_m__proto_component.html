<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Component Documentation: protoComponent</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="DREAM_223x59.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Component Documentation
   &#160;<span id="projectnumber">v0.01</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___d_r_e_a_m__proto_component.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">protoComponent</div>  </div>
</div><!--header-->
<div class="contents">

<p>Interface file for the example DREAM component.  
<a href="#details">More...</a></p>
<h1><a class="anchor" id="component_description"></a>
Component Description</h1>
<p>This application demonstates the use of the protoComponent module. This is a simple example to illustrate a component that is compliant with mandatory DREAM software standards for</p>
<ol type="1">
<li>File organization</li>
<li>Internal source code documentation</li>
<li>Component functionality</li>
</ol>
<p>as well as recommended DREAM software standards for</p>
<ol type="1">
<li>Programming style</li>
<li>Programming practice</li>
</ol>
<p>These standards are documented in Appendices A-E of Deliverable 3.2</p>
<p>Overall, the standards address the 4 Cs of component-based software engineering:</p>
<ul>
<li>configuration</li>
<li>coordination</li>
<li>computation</li>
<li>computation</li>
</ul>
<p>Functionally, the module</p><ul>
<li>reads a colour image from an input port,</li>
<li>reads a threshold value from an imput port,</li>
<li>converts it to a binary image based on a supplied threshold,</li>
<li>counts the number of foreground pixels and background pixels,</li>
<li>writes the binary image to an output port,</li>
<li>and writes the pixel statistics and the time to another output port.</li>
</ul>
<p>The purpose of these operations is simply to illustrate how input/ouput is performed. The image processing itself is trivial and of no importance.</p>
<p>The module also reads a configuration file containing the intrinsic parameters of the robot's two cameras as an example of more advanced parsing techniques.</p>
<p>A complete tutorial on this example is available on the DREAM wiki</p>
<h1><a class="anchor" id="lib_sec"></a>
Libraries</h1>
<ul>
<li>YARP.</li>
</ul>
<h1><a class="anchor" id="parameters_sec"></a>
Parameters</h1>
<p><b>Command-line Parameters </b></p>
<p>The following key-value pairs can be specified as command-line parameters by prefixing <code>&ndash;</code> to the key e.g. <code>&ndash;from</code> file.ini. The value part can be changed to suit your needs; the default values are shown below.</p>
<ul>
<li><code>from</code> <code>protoComponent.ini</code> <ul>
<li>specifies the configuration file</li>
</ul>
</li>
<li><code>context</code> <code>components/protoComponent/config</code> <ul>
<li>specifies the sub-path from <code>$DREAM_ROOT/release</code> to the configuration file</li>
</ul>
</li>
<li><code>name</code> <code>protoComponent</code> <ul>
<li>specifies the name of the module (used to form the stem of module port names)</li>
</ul>
</li>
</ul>
<p><b>Configuration File Parameters </b></p>
<p>The following key-value pairs can be specified as parameters in the configuration file (they can also be specified as command-line parameters if you so wish). The value part can be changed to suit your needs; the default values are shown below.</p>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left">imageInputPort </td><td align="left">/image:i </td></tr>
</table>
<ul>
<li>Specifies the image input port name (this string will be prefixed by <code>/protoComponent</code> or whatever else is specifed by the name parameter</li>
</ul>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left">thresholdInputPort </td><td align="left">/threshold:i </td></tr>
</table>
<ul>
<li>Specifies the threshold input port name (this string will be prefixed by <code>/protoComponent</code> or whatever else is specifed by the name parameter</li>
</ul>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left">imageOutputPort </td><td align="left">/image:o </td></tr>
</table>
<ul>
<li>Specifies the image output port name (this string will be prefixed by <code>/protoComponent</code> or whatever else is specifed by the name parameter</li>
</ul>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left">statisticsOutputPort </td><td align="left">/statistics:o </td></tr>
</table>
<ul>
<li>Specifies the statistics output port name (this string will be prefixed by <code>/protoComponent</code> or whatever else is specifed by the name parameter</li>
</ul>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left">cameraConfig </td><td align="left">cameras.ini </td></tr>
</table>
<ul>
<li>Specifies the camera configuration file containing the intrinsic parameters of the left and right cameras</li>
</ul>
<table class="doxtable">
<tr>
<th align="left">Key </th><th align="left">Value  </th></tr>
<tr>
<td align="left">threshold </td><td align="left">7 </td></tr>
</table>
<ul>
<li>Specifies the threshold value</li>
</ul>
<h1><a class="anchor" id="portsa_sec"></a>
Ports Accessed</h1>
<ul>
<li>None</li>
</ul>
<h1><a class="anchor" id="portsc_sec"></a>
Ports Created</h1>
<p><b>Input ports</b></p>
<ul>
<li><code>/protoComponent</code> </li>
</ul>
<p>This port is used to change the parameters of the module at run time or stop the module. <br />
The following commands are available: </p><pre class="fragment">help
quit
set thr         &lt;n&gt;     ... set the threshold for binary segmentation of the input RGB image (where \c &lt;n&gt; is an integer number)
</pre><p>Note that the name of this port mirrors whatever is provided by the <code>&ndash;name</code> parameter value The port is attached to the terminal so that you can type in commands and receive replies. The port can be used by other modules but also interactively by a user through the yarp rpc directive, viz.: <code>yarp</code> <code>rpc</code> <code>/protoComponent</code> This opens a connection from a terminal to the port and allows the user to then type in commands and receive replies. </p><pre class="fragment">/protoComponent/image:i   
/protoComponent/threshold:i
</pre><p><b>Output ports</b> </p><pre class="fragment">/protoComponent
</pre><p>see above </p><pre class="fragment">/protoComponent/image:o
/protoComponent/statistics:o
</pre><p><b>Port types </b></p>
<p>The functional specification only names the ports to be used to communicate with the module but doesn't say anything about the data transmitted on the ports. This is defined by the following code. </p><pre class="fragment">BufferedPort&lt;ImageOf&lt;PixelRgb&gt; &gt;     imageIn;
BufferedPort&lt;VectorOf&lt;int&gt; &gt;         thresholdIn; //int threshold 
BufferedPort&lt;ImageOf&lt;PixelRgb&gt; &gt;     imageOut;
BufferedPort                         statisticsOut;    
</pre><p>Thus, there are three types of port in use here, all buffered:</p>
<ul>
<li>image,</li>
<li>vector of int (there will be just one element in the vector in this case), and</li>
<li>a bottle comprising alphanumerics messages.</li>
</ul>
<h1><a class="anchor" id="in_files_sec"></a>
Input Data Files</h1>
<p>None</p>
<h1><a class="anchor" id="out_data_sec"></a>
Output Data Files</h1>
<p>None</p>
<h1><a class="anchor" id="conf_file_sec"></a>
Configuration Files</h1>
<p><code>protoComponent.ini</code> <code>cameras.ini</code> </p>
<h1><a class="anchor" id="example_sec"></a>
Example Instantiation of the Component</h1>
<p><code>protoComponent &ndash;name protoComponent &ndash;context components/protoComponent/config &ndash;from protoComponent.ini </code></p>
<dl class="section author"><dt>Author</dt><dd></dd></dl>
<p>&lt;name of="" author&gt;=""&gt;, &lt;author institute&gt;=""&gt;</p>
<p>Copyright (C) 2014 DREAM Consortium </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Dec 11 2017 00:29:18 for Component Documentation by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
